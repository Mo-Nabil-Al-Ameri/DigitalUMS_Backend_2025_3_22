{% load static i18n %}
<!DOCTYPE html>
<html lang="{% get_current_language as LANGUAGE_CODE %}{{ LANGUAGE_CODE }}" dir="{% if LANGUAGE_CODE == 'ar' %}rtl{% else %}ltr{% endif %}">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}لوحة التحكم{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- خط اللغة الافتراضي -->
    {% if LANGUAGE_CODE == 'ar' %}
        <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    {% else %}
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    {% endif %}

    <!-- 🌟 ملف التنسيقات المخصص -->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">

    <!-- Flatpickr للتاريخ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    {% if LANGUAGE_CODE == 'ar' %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ar.css">
    {% endif %}

    <!-- تخصيص خط الصفحة بناءً على اللغة -->
    <style>
        body {
            font-family: {% if LANGUAGE_CODE == 'ar' %} 'Tajawal', sans-serif {% else %} 'Roboto', sans-serif {% endif %};
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0;
            direction: {% if LANGUAGE_CODE == 'ar' %}rtl{% else %}ltr{% endif %};
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: {% if LANGUAGE_CODE == 'ar' %} 'Tajawal', sans-serif {% else %} 'Roboto', sans-serif {% endif %};
        }
        .form-label {
            font-weight: bold;
        }
        .custom-form input,
        .custom-form select,
        .custom-form textarea {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #fff;
        }
        .custom-form input:focus,
        .custom-form select:focus,
        .custom-form textarea:focus {
            outline: none;
            border-color: #106eea;
            box-shadow: 0 0 5px rgba(16, 110, 234, 0.2);
        }
        .custom-button {
            background-color: #d30000;
            color: white;
            padding: 12px 25px;
            font-weight: bold;
            border-radius: 8px;
            text-align: center;
            display: inline-block;
            border: none;
            transition: 0.3s ease;
        }
        .custom-button:hover {
            background-color: #a90000;
        }
    </style>

    {% block extra_head %}{% endblock %}
</head>
<body>

    <!-- ✅ محتوى الصفحة -->
    {% block content %}{% endblock %}

    <!-- Flatpickr & JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            flatpickr("input[type='date'], .flatpickr", {
                dateFormat: "Y-m-d",
                locale: "{{ LANGUAGE_CODE }}"
            });
        });
    </script>

    {% block extra_scripts %}{% endblock %}
</body>
</html>
